# date

macはBSD系列の`date`を使用しているため、GNUの`date`とはオプションが異なる。

デフォルトでの日付指定書式は以下の通り。

```
[[[mm]dd]HH]MM[[cc]yy][.SS]
```

|記号|意味|
|:--|:--|
|mm|月|
|dd|日|
|HH|時|
|MM|分|
|cc|世紀(19 or 20)|
|yy|年の省略形|
|SS|秒|

`2025/8/8 13:09:10`を指定する場合は`080813092025.10`となり、`date -j 080813092025.10`となる。

```
$ date -j 080813092025.10
2025年 8月 8日 金曜日 13時09分10秒 JST
```

これをミリ秒に変換するには出力フォーマットを指定すれば良いが、Macの`date`はミリ秒以下を扱えないため、0埋めでミリ秒まで表すようにする。

```
$ date -j 080813092025.10 +%s000
1754626150000
```

このままでは入力フォーマットがわかりづらいため、わかりやすいようにフォーマットを指定する。
入力フォーマットは`man strptime`を参照する。参照したら特になかったので`man strftime`を参照する。

```
$ date -j -f '%Y-%m-%d %H:%M:%S' '2025-08-08 13:09:10' +%s000
1754626150000
```

これで指定しやすくなった。

```
%Y は、世紀を含む年を 10 進数（00～99）で表したものに置き換えられます。
%m は、10 進数 (01-12) の月に置き換えられます。
%d は、10 進数での月内の日 (01-31) に置き換えられます。
%H は、10 進数 (00-23) の時 (24 時間制) に置き換えられます。
%M は、10 進数 (00-59) の分に置き換えられます。
%S は、10進数で表した秒数 (00-60) に置き換えられます。
```
